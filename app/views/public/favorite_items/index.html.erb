<div class="container">
  <h2 class="m-5">お気に入りアイテム</h2>
  <div class="row">
    <div class="f-items col-md-8 text-field">
      <% if @favorite_items.count >= 1 %>
      <table class="col m-auto">
        <thead>
          <th>表示名</th>
          <th>アイテム一覧</th>
          <th colspan="2"></th>
        </thead>

        <tbody>
        <% @favorite_items.each do |favorite_item| %>
        <tr>

          <td class="col-3">
            <%= favorite_item.favorite_item_name %>
          </td>

          <% favorite_item_details = FavoriteItemDetail.where(favorite_item_id: favorite_item.id)%>
          <td class="col-7">
            <% favorite_item_details.each do |favorite_item_detail| %>
              <%= favorite_item_detail.item.item_name %>(<%= favorite_item_detail.amount_used %>g)<br>
            <% end %>
          </td>

         
            <% if favorite_item.customer_id == current_customer.id%>
              <td class="col-1">
              <%= button_to edit_public_favorite_item_path(favorite_item.id), method: :get do %>
                <i class="fas fa-solid fa-pen"></i>
              <% end %>
              </td>
              
              <td class="col-1">
              <%= button_to public_favorite_item_path(favorite_item.id), method: :delete, data: {confirm: "本当に削除しますか？"} do %>
                <i class="fas fa-solid fa-trash"></i>
              <% end %>
              </td>
            <% end %>

        </tr>
        <% end %>
        </tbody>
      </table>
      <% else %>
       お気に入りは登録されていません
      <% end %>
    </div>
  </div>
</div>