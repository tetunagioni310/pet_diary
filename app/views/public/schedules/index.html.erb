<div class="container">
  <h2>スケジュール一覧</h2>
  <div class="row">
    <div class="col-md-3 text-field">
      <%= form_with model: @schedule, url: public_schedules_path, method: :post do |f| %>
      <%= render "public/shared/error_messages", resource: @schedule %>
      
      <%= f.hidden_field :customer_id, :value => current_customer.id %>
      <div>
        <%= f.label :schedule_title %>
        <%= f.text_field :schedule_title, class: "form-control" %>
      </div>

      <div class="mt-3">
        <%= f.label :schedule_content %>
        <%= f.text_field :schedule_content, class: "form-control" %>
      </div>

      <div class="mt-3">
        <%= f.label :start_time %><br>
        <%= f.date_select :start_time, use_month_numbers: true %>
      </div>
      
      <div class="mt-5">
        <%= f.submit "作成", class: "btn-change btn-block" %>
      </div>

      <% end %>
    </div>

    <div class="calendar text-field col-md-8 offset-md-1">
       <%= month_calendar events: @schedules do |date, schedules| %>
          <%= date.day %>

          <% schedules.each do |schedule| %>
            <div class="col p-2">
              <%= link_to schedule.schedule_title, public_schedule_path(schedule.id), class: "schedule-link" %>
            </div>
          <% end %>
        <% end %>
    </div>
  </div>
</div>